<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>New Project Entry</title>
		<script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script type = "text/javascript" src = "js/jquery-validation-1.13.1/dist/jquery.validate.min.js"></script>
		<script type = "text/javascript" src = "js/main.js"></script>		
	</head>
	<body>
		<form name = "new_project" id = "new_project" method = "POST" action = "php/upload.php" enctype="multipart/form-data">
			<p>
				<label for = "name">Project Name: </label>
				<input type = "text" name = "name" id = "name" />
			</p>
			<p>
				<label for = "project_image">Project Image: </label>
				<input title = "Only JPG format allowed!" type = "file" name = "project_image" id = "project_image" />
			</p>
			<p>
				<label for = "source_code">Source Code: </label>
				<input title = "Only .zip files allowed!" type = "file" name = "source_code" id = "source_code" />
			</p>
			<p>
				<label for = "url">URL: </label>
				<input type = "text" name = "url" id = "url" />
			</p>
			<p>
				<label for = "description">Description: </label>
				<textarea name = "description" id = "description" cols = "23" rows = "4"></textarea>
			</p>
			<p>
				<input type = "submit" name = "submit" id = "submit" value = "Submit" />
			</p>
		</form>
		<script type = "text/Javascript">
			$("#new_project").validate({
				rules: {
					project_image: {
						required: true,
						extension: "jpg|JPG|JPEG|jpeg"
					},
					source_code: {
						required: true,
						extension: "zip"
					}
				},
	
				messages: {
					project_image: "Only JPG files are permitted!",
					source_code: "Only zip files are permitted!"
				},
	
				errorPlacement: function(error, element) {
					error.addClass("errormsg");
					error.insertAfter(element.parent("p"));
				},
	
			    onfocusout: function(e) {//forces validation when focus is taken off of the element.
				    this.element(e);
				},
	
				submitHandler: function(form, event) {
					alert("New project entry created.");
					$(form).ajaxSubmit();
				}
			});
		</script>
	</body>
</html>